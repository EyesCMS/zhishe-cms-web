(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85888e0a"],{"0b72":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"un-handle-layout"},[i("div",{staticClass:"layout-title"},[e._v("待处理事务")]),e._v(" "),i("div",{staticClass:"un-handle-content"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-badge",{staticClass:"item",attrs:{value:e.unaudited.createNumber}},[i("div",{staticClass:"un-handle-item"},[i("span",{staticClass:"font-medium"},[e._v("社团创建申请")])])])],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-badge",{staticClass:"item",attrs:{value:e.unaudited.dismissNumber}},[i("div",{staticClass:"un-handle-item"},[i("span",{staticClass:"font-medium"},[e._v("社团解散申请")])])])],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-badge",{staticClass:"item",attrs:{value:e.unaudited.activityNumber}},[i("div",{staticClass:"un-handle-item"},[i("span",{staticClass:"font-medium"},[e._v("社团活动申请")])])])],1)],1),e._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("el-badge",{staticClass:"item",attrs:{value:e.unaudited.changeNumber}},[i("div",{staticClass:"un-handle-item"},[i("span",{staticClass:"font-medium"},[e._v("社长换届申请")])])])],1),e._v(" "),i("el-col",{attrs:{span:8}},[i("el-badge",{staticClass:"item",attrs:{value:e.unaudited.identifyNumber}},[i("div",{staticClass:"un-handle-item"},[i("span",{staticClass:"font-medium"},[e._v("社团认证申请")])])])],1)],1)],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.newUsersVisible,expression:"newUsersVisible==true"}],staticClass:"statistics-layout"},[i("div",{staticClass:"layout-title"},[e._v("注册人数统计")]),e._v(" "),i("el-row",[i("el-card",[i("el-col",[i("i",{staticClass:"el-icon-search"}),e._v(" "),i("span",[e._v("筛选搜索")]),e._v(" "),i("div",{staticStyle:{padding:"5px","margin-top":"10px"}},[i("el-form",{attrs:{inline:!0,model:e.form,"label-width":"500px"}},[i("el-form-item",{attrs:{prop:"startDate"}},[i("el-date-picker",{staticStyle:{width:"90%"},attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"开始日期"},model:{value:e.form.startDate,callback:function(t){e.$set(e.form,"startDate",t)},expression:"form.startDate"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"endDate"}},[i("el-date-picker",{staticStyle:{width:"90%"},attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"结束日期"},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}})],1),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.check()}}},[e._v("查询")])],1)],1)])],1),e._v(" "),i("el-col",[i("div",{staticStyle:{width:"100%",height:"70vh","margin-top":"10px"},attrs:{id:"chartLineBox"}})])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.clubSpeciesVisible,expression:"clubSpeciesVisible==true"}],staticClass:"statistics-layout"},[i("div",{staticClass:"layout-title"},[e._v("各类别社团占比")]),e._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("el-row",[i("div",{staticStyle:{padding:"10px","border-left":"1px solid #DCDFE6"}},[i("div",{staticStyle:{"text-align":"center"}},[i("div",{staticStyle:{width:"900%",height:"300px"},attrs:{id:"pieBox"}})])])])],1)])])},s=[],n=i("313e"),l=i.n(n),c=i("b775");function r(e){return Object(c["a"])({url:"/admin/unaudited",method:"get"})}function u(e){return Object(c["a"])({url:"/admin/newusers",method:"get",params:e})}function o(e){return Object(c["a"])({url:"/admin/clubspecies",method:"get"})}var d={name:"AdminHome",data:function(){return{form:{startDate:"",endDate:""},newUsersVisible:!0,clubSpeciesVisible:!1,loading:!1,dataEmpty:!1,chartLine:"",pie:"",unaudited:{createNumber:"",changeNumber:"",activityNumber:"",dismissNumber:"",identifyNumber:""},clubSpecie:{clubSpecies:[],clubSpeciesNumber:[]},tolerationSD:"",tolerationED:"",option:{tooltip:{trigger:"axis"},legend:{data:["注册人数"]},color:["#8AE09F"],xAxis:{type:"category",boundaryGap:!1,data:[],name:"日期",nameTextStyle:{color:"#FA6F53",fontSize:16,padding:[0,0,0,20]},axisLine:{lineStyle:{color:"#FA6F53"}},inverse:!0},yAxis:{name:"注册人数",nameTextStyle:{color:"#FA6F53",fontSize:16,padding:[0,0,10,0]},axisLine:{lineStyle:{color:"#FA6F53"}},type:"value"},series:[{name:"注册人数",data:[],type:"line",lineStyle:{normal:{color:"#8AE09F"}}}]}}},watch:{"option.xAxis.data":function(){this.showChartLine(),!1===this.clubSpeciesVisible&&(this.clubSpeciesVisible=!0,this.showPie())},"clubSpecie.clubSpecies":function(){this.clubSpeciesVisible=!0,this.showPie()}},created:function(){this.getUnauditedData();var e=new Date,t={year:e.getFullYear(),month:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date1:e.getDate()<10?"0"+e.getDate():e.getDate()};e=e.getTime()-864e6;var i=new Date;i.setTime(e);var a={year:i.getFullYear(),month:i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,date1:i.getDate()<10?"0"+i.getDate():i.getDate()},s="",n="";n=t.year+"-"+t.month+"-"+t.date1,s=a.year+"-"+a.month+"-"+a.date1,this.tolerationSD=s,this.tolerationED=n,this.getNewUserData(),this.getClubSpecieData()},updated:function(){this.showChartLine(),!1===this.clubSpeciesVisible&&(this.clubSpeciesVisible=!0,this.showPie())},methods:{getUnauditedData:function(){var e=this;this.Loading=!0,r(this.loading).then((function(t){200===t.status&&(e.unaudited.createNumber=t.data.createNumber,e.unaudited.changeNumber=t.data.changeNumber,e.unaudited.activityNumber=t.data.activityNumber,e.unaudited.dismissNumber=t.data.dismissNumber,e.unaudited.identifyNumber=t.data.identifyNumber)}))},getNewUserData:function(){var e=this;this.Loading=!0;var t="",i="";t=""===this.form.startDate?this.tolerationSD:this.form.startDate,i=""===this.form.endDate?this.tolerationED:this.form.endDate;var a={startDate:t,endDate:i};u(a).then((function(t){200===t.status&&(e.option.xAxis.data=t.data.date,e.option.series[0].data=t.data.newUsers)}))},getClubSpecieData:function(){var e=this;this.Loading=!0,o(this.loading).then((function(t){200===t.status&&(e.clubSpecie.clubSpecies=t.data.clubSpecies,e.clubSpecie.clubSpeciesNumber=t.data.clubSpeciesNumber)}))},showChartLine:function(){this.chartLine=l.a.init(document.getElementById("chartLineBox")),this.chartLine.setOption(this.option)},showPie:function(){this.pie=l.a.init(document.getElementById("pieBox")),this.pie.setOption({title:{x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:"bottom",data:this.clubSpecie.clubSpecies},series:[{name:"社团数目",type:"pie",radius:"70%",center:["50%","50%"],data:[{value:this.clubSpecie.clubSpeciesNumber[0],name:this.clubSpecie.clubSpecies[0]},{value:this.clubSpecie.clubSpeciesNumber[1],name:this.clubSpecie.clubSpecies[1]},{value:this.clubSpecie.clubSpeciesNumber[2],name:this.clubSpecie.clubSpecies[2]},{value:this.clubSpecie.clubSpeciesNumber[3],name:this.clubSpecie.clubSpecies[3]},{value:this.clubSpecie.clubSpeciesNumber[4],name:this.clubSpecie.clubSpecies[4]}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},check:function(){this.getNewUserData()}}},m=d,h=(i("9edf"),i("2877")),p=Object(h["a"])(m,a,s,!1,null,"535ce905",null);t["default"]=p.exports},"9edf":function(e,t,i){"use strict";var a=i("b450"),s=i.n(a);s.a},b450:function(e,t,i){}}]);