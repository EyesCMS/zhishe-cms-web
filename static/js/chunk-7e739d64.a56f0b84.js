(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e739d64"],{"64f3":function(e,r,t){"use strict";var s=t("adde"),a=t.n(s);a.a},adde:function(e,r,t){},dc0e:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"content"},[t("el-form",{ref:"ruleForm",staticClass:"Form",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"20%"}},[t("el-link",{attrs:{type:"primary"},on:{click:function(r){return e.back()}}},[e._v("使用已有账号登陆")]),e._v(" "),t("h3",{staticClass:"form-title"},[e._v("注册账号")]),e._v(" "),t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{staticStyle:{width:"75%"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{staticStyle:{width:"75%"},attrs:{type:"password",placeholder:"至少6位密码"},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"password2"}},[t("el-input",{staticStyle:{width:"75%"},attrs:{type:"password"},model:{value:e.ruleForm.password2,callback:function(r){e.$set(e.ruleForm,"password2",r)},expression:"ruleForm.password2"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{staticStyle:{width:"50%"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.countDown(r)}},model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}}),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.countDown}},[e._v("\n        "+e._s(e.content)+"\n      ")])],1),e._v(" "),t("el-form-item",{attrs:{label:"验证码",prop:"authCode"}},[t("el-input",{staticStyle:{width:"75%"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.ruleForm.authCode,callback:function(r){e.$set(e.ruleForm,"authCode",r)},expression:"ruleForm.authCode"}})],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即注册")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},a=[],n=(t("96cf"),t("3b8d")),o=t("c24f"),i={data:function(){var e=this,r=function(r,t,s){t!==e.ruleForm.password?s(new Error("两次输入密码不一致!")):s()},t=function(e,r,t){if(""===r)t(new Error("请正确填写邮箱"));else{if(""!==r){var s=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;s.test(r)||t(new Error("请输入有效的邮箱"))}t()}};return{ruleForm:{username:"",password:"",password2:"",authCode:"",email:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:12,message:"长度为6-12个字符",trigger:"blur"}],password2:[{required:!0,message:"请再次输入密码",trigger:"blur"},{min:6,max:12,message:"长度为6-12个字符",trigger:"blur"},{validator:r,trigger:"blur"}],email:[{required:!0,trigger:"blur",validator:t}],authCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},passwordType:"password",content:"发送验证码",totalTime:60}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}s={username:r.ruleForm.username,password:r.ruleForm.password,email:r.ruleForm.email,authCode:r.ruleForm.authCode},Object(o["h"])(s).then((function(e){r.$message.success("注册成功"),r.$router.push("/login")})).catch((function(e){console.log(e)})),e.next=7;break;case 5:return r.$message.error("提交失败"),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},back:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("user/logout");case 2:this.$router.push("/login?redirect=".concat(this.$route.fullPath));case 3:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}(),countDown:function(){var e=this,r=this.ruleForm.email;if(""!==r){if(""!==r){var t=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!t.test(r))return void this.$message.error("请输入有效的邮箱");Object(o["b"])({email:r}).then((function(r){if("undefined"!==typeof r){e.$message.success("获取验证码成功！"),e.content=e.totalTime+"s后重新发送";var t=window.setInterval((function(){e.totalTime--,e.content=e.totalTime+"s后重新发送",e.totalTime<0&&(window.clearInterval(t),e.content="重新发送验证码",e.totalTime=60)}),1e3)}}))}}else this.$message.error("请正确填写邮箱")}}},u=i,l=(t("64f3"),t("2877")),c=Object(l["a"])(u,s,a,!1,null,"d5cdf4b0",null);r["default"]=c.exports}}]);